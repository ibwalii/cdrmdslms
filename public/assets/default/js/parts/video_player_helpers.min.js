var fileVideoPlayer;window.makeVideoPlayerHtml=function(o,e,i,t){var a="",l={autoplay:!1,preload:"auto"};return"youtube"===e||"vimeo"===e?(a='<video id="'+t+'" class="video-js" width="100%" height="'+i+'"></video>',l={controls:"vimeo"!==e,ytControls:!0,autoplay:!1,preload:"auto",techOrder:["html5",e],sources:[{src:o,type:"video/"+e}]}):a='<video id="'+t+'" oncontextmenu="return false;" controlsList="nodownload" class="video-js" controls preload="auto" width="100%" height="'+i+'"><source src="'+o+'" type="video/mp4"/></video>',{html:a,options:l}},window.handleVideoByFileId=function(o,e,i){closeVideoPlayer();var t=$(window).width()>991?426:264;$.post("/course/getFilePath",{file_id:o},function(o){if(o&&200===o.code){var a=o.storage,l=makeVideoPlayerHtml(o.path,a,t,"videoPlayer"),d=l.html,r=l.options;e.html(d),fileVideoPlayer=videojs("videoPlayer",r),i()}else $.toast({heading:notAccessToastTitleLang,text:notAccessToastMsgLang,bgColor:"#f63c3c",textColor:"white",hideAfter:1e4,position:"bottom-right",icon:"error"})}).fail(function(o){$.toast({heading:notAccessToastTitleLang,text:notAccessToastMsgLang,bgColor:"#f63c3c",textColor:"white",hideAfter:1e4,position:"bottom-right",icon:"error"})})},window.closeVideoPlayer=function(){void 0!==fileVideoPlayer&&fileVideoPlayer.dispose()},window.pauseVideoPlayer=function(){void 0!==fileVideoPlayer&&fileVideoPlayer.pause()};
