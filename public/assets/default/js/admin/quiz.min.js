function _createForOfIteratorHelper(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,i=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}!function(t){"use strict";function e(){for(var t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",n=0;n<5;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}t("body").on("click","#add_multiple_question",function(n){n.preventDefault();var r=t("#multipleQuestionModal").clone(),a="correctAnswerSwitch"+e();r.find("label.js-switch").attr("for",a),r.find("input.js-switch").attr("id",a);var i=e();r.find(".panel-file-manager").attr("data-input",i),r.find(".lfm-input").attr("id",i),r.find(".main-answer-row").removeClass("main-answer-row").addClass("main-answer-box"),Swal.fire({html:r.html(),showCancelButton:!1,showConfirmButton:!1,customClass:{content:"p-0 text-left"},width:"48rem"})}),t("body").on("click",".add-answer-btn",function(n){n.preventDefault();var r=t(".add-answer-container .main-answer-box"),a=r.clone();a.removeClass("main-answer-box"),a.find(".answer-remove").removeClass("d-none");var i="correctAnswerSwitch"+e();a.find("label.js-switch").attr("for",i),a.find("input.js-switch").attr("id",i);var o=e();a.find(".panel-file-manager").attr("data-input",o),a.find(".lfm-input").attr("id",o),a.find('input[type="checkbox"]').prop("checked",!1);var s=a.prop("innerHTML"),l=e();s=(s=s.replace(/\[record\]/g,"["+l+"]")).replace(/\[\d+\]/g,"["+l+"]"),a.html(s),a.find('input[type="checkbox"]').prop("checked",!1),a.find('input[type="text"]').val(""),r.parent().append(a)}),t("body").on("click",".answer-remove",function(e){e.preventDefault(),t(this).closest(".add-answer-card").remove()}),t("body").on("click","#add_descriptive_question",function(e){e.preventDefault();var n=t("#descriptiveQuestionModal").clone();Swal.fire({html:n.html(),showCancelButton:!1,showConfirmButton:!1,customClass:{content:"p-0 text-left"},width:"48rem"})}),t("body").on("change",".js-switch",function(){var e=t(this);e.closest(".js-switch-parent");this.checked&&(t(".js-switch").each(function(){t(this).closest(".js-switch-parent").find('input[type="checkbox"]').prop("checked",!1)}),e.prop("checked",!0))}),t("body").on("click",".save-question",function(e){e.preventDefault();var n=t(this),r=n.closest("form"),a=r.serializeObject(),i=r.attr("action");n.addClass("loadingbar primary").prop("disabled",!0),r.find("input").removeClass("is-invalid"),r.find("textarea").removeClass("is-invalid"),t.post(i,a,function(t){t&&200===t.code&&(Swal.fire({icon:"success",html:'<h3 class="font-20 text-center text-dark-blue py-25">'+saveSuccessLang+"</h3>",showConfirmButton:!1,width:"25rem"}),setTimeout(function(){window.location.reload()},500))}).fail(function(t){n.removeClass("loadingbar primary").prop("disabled",!1);var e=t.responseJSON;e&&e.errors&&Object.keys(e.errors).forEach(function(t){var n=e.errors[t],a=r.find('[name="'+t+'"]');a.addClass("is-invalid"),a.parent().find(".invalid-feedback").text(n[0])})})}),t("body").on("click",".edit_question",function(n){n.preventDefault();var r=t(this).attr("data-question-id");loadingSwl(),t.get("/admin/quizzes-questions/"+r+"/edit",function(n){if(n&&n.html){var r='<div id="editQuestion">'+n.html+"</div>";Swal.fire({html:r,showCancelButton:!1,showConfirmButton:!1,customClass:{content:"p-0 text-left"},width:"48rem",onOpen:function(){var n=t("#editQuestion");n.find(".main-answer-row").removeClass("main-answer-row").addClass("main-answer-box");var r=e();n.find(".panel-file-manager").first().attr("data-input",r),n.find(".lfm-input").first().attr("id",r);var a="correctAnswerSwitch"+e();n.find("label.js-switch").first().attr("for",a),n.find("input.js-switch").first().attr("id",a)}})}})}),t("body").on("change",".js-quiz-question-locale",function(e){e.preventDefault();var n=t(this),r=t(this).closest("form"),a=n.val(),i=n.attr("data-id");n.addClass("loadingbar gray");var o="/admin/quizzes-questions/"+i+"/getQuestionByLocale?locale="+a;t.get(o,function(e){var a=e.question;if("descriptive"===a.type){var i=["title","correct"];Object.keys(a).forEach(function(e){var n=a[e];-1!==t.inArray(e,i)&&r.find('[name="'+e+'"]').val(n)})}else if(r.find('[name="title"]').val(a.title),a.quizzes_questions_answers&&a.quizzes_questions_answers.length){var o,s=_createForOfIteratorHelper(a.quizzes_questions_answers);try{for(s.s();!(o=s.n()).done;){var l=o.value;l&&r.find(".js-ajax-answer-title-"+l.id).val(l.title)}}catch(t){s.e(t)}finally{s.f()}}n.removeClass("loadingbar gray")}).fail(function(t){n.removeClass("loadingbar gray")})})}(jQuery);
